(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4644:function(e,t,s){Promise.resolve().then(s.bind(s,36327))},36327:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return eQ}});var a=s(57437),r=s(22406),n=s(2265),l=s(57042),i=s(74769);function d(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,i.m6)((0,l.W)(t))}let o=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:d("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});o.displayName="Card";let c=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:d("flex flex-col space-y-1.5 p-6",s),...r})});c.displayName="CardHeader";let m=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:d("text-2xl font-semibold leading-none tracking-tight",s),...r})});m.displayName="CardTitle";let x=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:d("text-sm text-muted-foreground",s),...r})});x.displayName="CardDescription";let u=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:d("p-6 pt-0",s),...r})});u.displayName="CardContent",n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:d("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter";var p=s(67256),h=s(39213);let f=(0,h.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=n.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:l=!1,...i}=e,o=l?p.g7:"button";return(0,a.jsx)(o,{className:d(f({variant:r,size:n,className:s})),ref:t,...i})});j.displayName="Button";let g=(0,h.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function y(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:d(g({variant:s}),t),...r})}var N=s(32176),b=s(31541),w=s(9883),v=s(28203),A=s(67607),D=s(6141),k=s(28712),C=s(82549);let S=k.fC;k.xz;let _=k.h_;k.x8;let Z=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(k.aV,{ref:t,className:d("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});Z.displayName=k.aV.displayName;let R=n.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(_,{children:[(0,a.jsx)(Z,{}),(0,a.jsxs)(k.VY,{ref:t,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...n,children:[r,(0,a.jsxs)(k.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});R.displayName=k.VY.displayName;let I=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:d("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};I.displayName="DialogHeader";let P=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(k.Dx,{ref:t,className:d("text-lg font-semibold leading-none tracking-tight",s),...r})});P.displayName=k.Dx.displayName;let T=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(k.dk,{ref:t,className:d("text-sm text-muted-foreground",s),...r})});T.displayName=k.dk.displayName;var z=s(36743);let F=(0,h.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),U=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(z.f,{ref:t,className:d(F(),s),...r})});U.displayName=z.f.displayName;let O=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:d("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});O.displayName="Textarea";var E=s(8556),M=s(83523),J=s(9224),Y=s(62442);let B=E.fC;E.ZA;let V=E.B4,q=n.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(E.xz,{ref:t,className:d("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[r,(0,a.jsx)(E.JO,{asChild:!0,children:(0,a.jsx)(M.Z,{className:"h-4 w-4 opacity-50"})})]})});q.displayName=E.xz.displayName;let H=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(E.u_,{ref:t,className:d("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(J.Z,{className:"h-4 w-4"})})});H.displayName=E.u_.displayName;let L=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(E.$G,{ref:t,className:d("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(M.Z,{className:"h-4 w-4"})})});L.displayName=E.$G.displayName;let W=n.forwardRef((e,t)=>{let{className:s,children:r,position:n="popper",...l}=e;return(0,a.jsx)(E.h_,{children:(0,a.jsxs)(E.VY,{ref:t,className:d("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...l,children:[(0,a.jsx)(H,{}),(0,a.jsx)(E.l_,{className:d("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(L,{})]})})});W.displayName=E.VY.displayName,n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(E.__,{ref:t,className:d("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=E.__.displayName;let G=n.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(E.ck,{ref:t,className:d("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(E.wU,{children:(0,a.jsx)(Y.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(E.eT,{children:r})]})});G.displayName=E.ck.displayName,n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(E.Z0,{ref:t,className:d("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=E.Z0.displayName;var K=s(81291),$=s(17158),Q=s(66777);function X(e){let{className:t,classNames:s,showOutsideDays:r=!0,...n}=e;return(0,a.jsx)(Q._W,{showOutsideDays:r,className:d("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:d(f({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:d(f({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:e=>{let{...t}=e;return(0,a.jsx)(K.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,a.jsx)($.Z,{className:"h-4 w-4"})}},...n})}X.displayName="Calendar";var ee=s(65050);let et=ee.fC,es=ee.xz,ea=n.forwardRef((e,t)=>{let{className:s,align:r="center",sideOffset:n=4,...l}=e;return(0,a.jsx)(ee.h_,{children:(0,a.jsx)(ee.VY,{ref:t,align:r,sideOffset:n,className:d("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})})});ea.displayName=ee.VY.displayName;var er=s(68912),en=s(71424),el=s(92600);function ei(e){let{open:t,onOpenChange:s,onSuccess:l}=e,{user:i}=(0,r.useAuth)(),[d,o]=(0,n.useState)([]),[c,m]=(0,n.useState)(),[x,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)({doctorId:"",time:"",reason:""});(0,n.useEffect)(()=>{t&&f()},[t]);let f=async()=>{try{let e=await el.DJ.getDoctors();o(e)}catch(e){console.error("Error fetching doctors:",e),en.Am.error("Failed to load doctors")}},g=async e=>{if(e.preventDefault(),!c||!p.doctorId||!p.time||!p.reason){en.Am.error("Please fill in all fields");return}if(!i){en.Am.error("You must be logged in to book an appointment");return}u(!0);try{await el.DJ.createAppointment({patientId:i._id,doctorId:p.doctorId,date:c.toISOString().split("T")[0],time:p.time,reason:p.reason}),en.Am.success("Appointment booked successfully!"),l(),s(!1),h({doctorId:"",time:"",reason:""}),m(void 0)}catch(e){en.Am.error(e.message||"Failed to book appointment")}finally{u(!1)}};return(0,a.jsx)(S,{open:t,onOpenChange:s,children:(0,a.jsxs)(R,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(I,{children:[(0,a.jsx)(P,{children:"Book New Appointment"}),(0,a.jsx)(T,{children:"Schedule an appointment with one of our qualified doctors"})]}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(U,{htmlFor:"doctor",children:"Select Doctor"}),(0,a.jsxs)(B,{value:p.doctorId,onValueChange:e=>h(t=>({...t,doctorId:e})),children:[(0,a.jsx)(q,{className:"medical-input",children:(0,a.jsx)(V,{placeholder:"Choose a doctor"})}),(0,a.jsx)(W,{children:d.map(e=>(0,a.jsxs)(G,{value:e._id,children:["Dr. ",e.name," - ",e.specialization]},e._id))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(U,{children:"Appointment Date"}),(0,a.jsxs)(et,{children:[(0,a.jsx)(es,{asChild:!0,children:(0,a.jsxs)(j,{variant:"outline",className:"w-full justify-start text-left font-normal medical-input",children:[(0,a.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),c?(0,er.Z)(c,"PPP"):"Pick a date"]})}),(0,a.jsx)(ea,{className:"w-auto p-0",children:(0,a.jsx)(X,{mode:"single",selected:c,onSelect:m,disabled:e=>e<new Date||0===e.getDay(),initialFocus:!0})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(U,{htmlFor:"time",children:"Preferred Time"}),(0,a.jsxs)(B,{value:p.time,onValueChange:e=>h(t=>({...t,time:e})),children:[(0,a.jsx)(q,{className:"medical-input",children:(0,a.jsx)(V,{placeholder:"Select time slot"})}),(0,a.jsx)(W,{children:["09:00","09:30","10:00","10:30","11:00","11:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30"].map(e=>(0,a.jsx)(G,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(U,{htmlFor:"reason",children:"Reason for Visit"}),(0,a.jsx)(O,{id:"reason",value:p.reason,onChange:e=>h(t=>({...t,reason:e.target.value})),placeholder:"Describe your symptoms or reason for the appointment...",className:"medical-input",required:!0})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(j,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),(0,a.jsx)(j,{type:"submit",className:"medical-button",disabled:x,children:x?"Booking...":"Book Appointment"})]})]})]})})}let ed=n.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:d("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});ed.displayName="Input";var eo=s(25331);let ec=n.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(eo.fC,{ref:t,className:d("relative overflow-hidden",s),...n,children:[(0,a.jsx)(eo.l_,{className:"h-full w-full rounded-[inherit]",children:r}),(0,a.jsx)(em,{}),(0,a.jsx)(eo.Ns,{})]})});ec.displayName=eo.fC.displayName;let em=n.forwardRef((e,t)=>{let{className:s,orientation:r="vertical",...n}=e;return(0,a.jsx)(eo.gb,{ref:t,orientation:r,className:d("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...n,children:(0,a.jsx)(eo.q4,{className:"relative flex-1 rounded-full bg-border"})})});em.displayName=eo.gb.displayName;var ex=s(26694);let eu=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(ex.fC,{ref:t,className:d("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});eu.displayName=ex.fC.displayName,n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(ex.Ee,{ref:t,className:d("aspect-square h-full w-full",s),...r})}).displayName=ex.Ee.displayName;let ep=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(ex.NY,{ref:t,className:d("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});ep.displayName=ex.NY.displayName;var eh=s(93966),ef=s(67972),ej=s(76020);function eg(e){let{open:t,onOpenChange:s}=e,[r,l]=(0,n.useState)([{id:"1",role:"assistant",content:"Hello! I'm your AI health assistant. I can help you with symptom checking, general health questions, and medical information. How can I assist you today?",timestamp:new Date}]),[i,d]=(0,n.useState)(""),[o,c]=(0,n.useState)(!1),m=async e=>{if(e.preventDefault(),!i.trim())return;let t={id:Date.now().toString(),role:"user",content:i,timestamp:new Date};l(e=>[...e,t]),d(""),c(!0);try{let e=await el.DJ.sendChatMessage(i),t={id:(Date.now()+1).toString(),role:"assistant",content:e,timestamp:new Date};l(e=>[...e,t])}catch(t){let e={id:(Date.now()+1).toString(),role:"assistant",content:"I apologize, but I'm having trouble responding right now. Please try again later or consult with a healthcare professional for urgent matters.",timestamp:new Date};l(t=>[...t,e])}finally{c(!1)}};return(0,a.jsx)(S,{open:t,onOpenChange:s,children:(0,a.jsxs)(R,{className:"sm:max-w-[600px] h-[600px] flex flex-col",children:[(0,a.jsxs)(I,{children:[(0,a.jsxs)(P,{className:"flex items-center gap-2",children:[(0,a.jsx)(eh.Z,{className:"h-5 w-5 text-blue-500"}),"AI Health Assistant"]}),(0,a.jsx)(T,{children:"Get instant help with health questions and symptom checking"})]}),(0,a.jsx)(ec,{className:"flex-1 pr-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[r.map(e=>(0,a.jsxs)("div",{className:"flex gap-3 ".concat("user"===e.role?"justify-end":"justify-start"),children:["assistant"===e.role&&(0,a.jsx)(eu,{className:"h-8 w-8",children:(0,a.jsx)(ep,{className:"bg-blue-100 text-blue-600",children:(0,a.jsx)(eh.Z,{className:"h-4 w-4"})})}),(0,a.jsx)("div",{className:"max-w-[80%] rounded-lg px-4 py-2 ".concat("user"===e.role?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"),children:(0,a.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content})}),"user"===e.role&&(0,a.jsx)(eu,{className:"h-8 w-8",children:(0,a.jsx)(ep,{className:"bg-gray-100 text-gray-600",children:(0,a.jsx)(ef.Z,{className:"h-4 w-4"})})})]},e.id)),o&&(0,a.jsxs)("div",{className:"flex gap-3 justify-start",children:[(0,a.jsx)(eu,{className:"h-8 w-8",children:(0,a.jsx)(ep,{className:"bg-blue-100 text-blue-600",children:(0,a.jsx)(eh.Z,{className:"h-4 w-4"})})}),(0,a.jsx)("div",{className:"bg-gray-100 rounded-lg px-4 py-2",children:(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})}),(0,a.jsxs)("form",{onSubmit:m,className:"flex gap-2 mt-4",children:[(0,a.jsx)(ed,{value:i,onChange:e=>d(e.target.value),placeholder:"Ask about symptoms, medications, or health questions...",className:"flex-1",disabled:o}),(0,a.jsx)(j,{type:"submit",size:"icon",disabled:o||!i.trim(),children:(0,a.jsx)(ej.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:[(0,a.jsx)("strong",{children:"Disclaimer:"})," This AI assistant provides general health information only. Always consult with healthcare professionals for medical advice."]})]})})}var ey=s(86264),eN=s(13008),eb=s(76637),ew=s(63209);function ev(e){let{open:t,onOpenChange:s}=e,[r,l]=(0,n.useState)(!1),[i,d]=(0,n.useState)(!1),[c,m]=(0,n.useState)(""),[x,p]=(0,n.useState)(null),h=async e=>{d(!0),m("");try{let t=URL.createObjectURL(e);p(t);let s=await (0,ew.createWorker)("eng"),{data:{text:a}}=await s.recognize(e);await s.terminate(),m(a),en.Am.success("Prescription text extracted successfully!")}catch(e){console.error("OCR Error:",e),en.Am.error("Failed to extract text from image")}finally{d(!1)}},f=e=>{if(!e.type.startsWith("image/")){en.Am.error("Please select an image file");return}if(e.size>10485760){en.Am.error("File size must be less than 10MB");return}h(e)},g=(0,n.useCallback)(e=>{e.preventDefault(),l(!1);let t=Array.from(e.dataTransfer.files);t.length>0&&f(t[0])},[]),y=(0,n.useCallback)(e=>{e.preventDefault(),l(!0)},[]),N=(0,n.useCallback)(e=>{e.preventDefault(),l(!1)},[]),w=async()=>{if(!c){en.Am.error("No text to save");return}try{await el.DJ.savePrescription({ocrText:c,imageUrl:x}),en.Am.success("Prescription saved successfully!"),s(!1),m(""),p(null)}catch(e){en.Am.error("Failed to save prescription")}};return(0,a.jsx)(S,{open:t,onOpenChange:s,children:(0,a.jsxs)(R,{className:"sm:max-w-[600px]",children:[(0,a.jsxs)(I,{children:[(0,a.jsx)(P,{children:"Upload Prescription"}),(0,a.jsx)(T,{children:"Upload an image of your prescription and we'll extract the text using OCR technology"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[x?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-medium",children:"Uploaded Image"}),(0,a.jsx)(j,{variant:"outline",size:"sm",onClick:()=>{p(null),m("")},children:"Upload New"})]}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("img",{src:x,alt:"Uploaded prescription",className:"w-full max-h-64 object-contain rounded-lg border"})})]}):(0,a.jsx)(o,{className:"border-2 border-dashed transition-colors cursor-pointer ".concat(r?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDrop:g,onDragOver:y,onDragLeave:N,children:(0,a.jsxs)(u,{className:"flex flex-col items-center justify-center py-12",children:[(0,a.jsx)(b.Z,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drag and drop your prescription image"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"or click to browse files"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files;t&&t.length>0&&f(t[0])},className:"hidden",id:"file-upload"}),(0,a.jsx)("label",{htmlFor:"file-upload",children:(0,a.jsx)(j,{variant:"outline",className:"cursor-pointer",asChild:!0,children:(0,a.jsx)("span",{children:"Choose File"})})})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-4",children:"Supports JPG, PNG, WebP (max 10MB)"})]})}),i&&(0,a.jsx)(o,{children:(0,a.jsxs)(u,{className:"flex items-center justify-center py-8",children:[(0,a.jsx)(ey.Z,{className:"h-6 w-6 animate-spin mr-3"}),(0,a.jsx)("span",{children:"Processing image and extracting text..."})]})}),c&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eN.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("h3",{className:"font-medium",children:"Extracted Text"})]}),(0,a.jsx)(o,{children:(0,a.jsx)(u,{className:"p-4",children:(0,a.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-800 max-h-48 overflow-y-auto",children:c})})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(j,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),(0,a.jsxs)(j,{onClick:w,className:"medical-button",children:[(0,a.jsx)(eb.Z,{className:"h-4 w-4 mr-2"}),"Save Prescription"]})]})]})]})]})})}function eA(){let{user:e}=(0,r.useAuth)(),[t,s]=(0,n.useState)([]),[l,i]=(0,n.useState)(!1),[d,p]=(0,n.useState)(!1),[h,f]=(0,n.useState)(!1),[g,k]=(0,n.useState)(!0);(0,n.useEffect)(()=>{e&&C()},[e]);let C=async()=>{if(e)try{let t=await el.DJ.getPatientAppointments(e._id);s(t)}catch(e){console.error("Error fetching appointments:",e)}finally{k(!1)}},S=e=>{switch(e){case"scheduled":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},_=t.filter(e=>"scheduled"===e.status&&new Date(e.date)>=new Date);return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Patient Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your health appointments and records"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(j,{onClick:()=>p(!0),variant:"outline",className:"gap-2",children:[(0,a.jsx)(N.Z,{className:"h-4 w-4"}),"AI Assistant"]}),(0,a.jsxs)(j,{onClick:()=>f(!0),variant:"outline",className:"gap-2",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4"}),"Upload Prescription"]}),(0,a.jsxs)(j,{onClick:()=>i(!0),className:"medical-button gap-2",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4"}),"Book Appointment"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m,{className:"text-sm font-medium",children:"Upcoming Appointments"}),(0,a.jsx)(v.Z,{className:"h-4 w-4 text-blue-500"})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:_.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Next appointment coming up"})]})]}),(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m,{className:"text-sm font-medium",children:"Total Appointments"}),(0,a.jsx)(A.Z,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"All time appointments"})]})]}),(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m,{className:"text-sm font-medium",children:"Health Score"}),(0,a.jsx)(N.Z,{className:"h-4 w-4 text-purple-500"})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"85%"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Based on recent checkups"})]})]})]}),(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{children:"Recent Appointments"}),(0,a.jsx)(x,{children:"Your latest medical appointments and consultations"})]}),(0,a.jsx)(u,{children:g?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):0===t.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(v.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No appointments yet"}),(0,a.jsx)(j,{onClick:()=>i(!0),className:"mt-4 medical-button",children:"Book Your First Appointment"})]}):(0,a.jsx)("div",{className:"space-y-4",children:t.slice(0,5).map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-blue-100 p-2 rounded-full",children:(0,a.jsx)(D.Z,{className:"h-4 w-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.reason}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Dr. ",null===(t=e.doctor)||void 0===t?void 0:t.name," • ",(0,er.Z)(new Date(e.date),"MMM dd, yyyy")," at ",e.time]})]})]}),(0,a.jsx)(y,{className:S(e.status),children:e.status})]},e._id)})})})]}),(0,a.jsx)(ei,{open:l,onOpenChange:i,onSuccess:C}),(0,a.jsx)(eg,{open:d,onOpenChange:p}),(0,a.jsx)(ev,{open:h,onOpenChange:f})]})}var eD=s(25750);function ek(){let{user:e}=(0,r.useAuth)(),[t,s]=(0,n.useState)([]),[l,i]=(0,n.useState)(!0);(0,n.useEffect)(()=>{e&&d()},[e]);let d=async()=>{if(e)try{let t=await el.DJ.getDoctorAppointments(e._id);s(t)}catch(e){console.error("Error fetching appointments:",e)}finally{i(!1)}},p=t.filter(e=>new Date(e.date).toDateString()===new Date().toDateString()),h=t.filter(e=>"scheduled"===e.status&&new Date(e.date)>=new Date),f=t.filter(e=>"completed"===e.status),g=e=>{switch(e){case"scheduled":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},N=async e=>{try{await el.DJ.completeAppointment(e),en.Am.success("Appointment marked as completed"),d()}catch(e){console.error("Error completing appointment:",e),en.Am.error("Failed to complete appointment")}};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Doctor Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your patient appointments and consultations"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m,{className:"text-sm font-medium",children:"Today's Appointments"}),(0,a.jsx)(v.Z,{className:"h-4 w-4 text-blue-500"})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:p.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Scheduled for today"})]})]}),(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m,{className:"text-sm font-medium",children:"Upcoming"}),(0,a.jsx)(D.Z,{className:"h-4 w-4 text-orange-500"})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:h.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Future appointments"})]})]}),(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m,{className:"text-sm font-medium",children:"Completed"}),(0,a.jsx)(eN.Z,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:f.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total completed"})]})]}),(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m,{className:"text-sm font-medium",children:"Patients"}),(0,a.jsx)(eD.Z,{className:"h-4 w-4 text-purple-500"})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:new Set(t.map(e=>e.patientId)).size}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Unique patients"})]})]})]}),(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{children:"Today's Schedule"}),(0,a.jsx)(x,{children:"Your appointments for today"})]}),(0,a.jsx)(u,{children:l?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):0===p.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(v.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No appointments scheduled for today"})]}):(0,a.jsx)("div",{className:"space-y-4",children:p.map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-blue-100 p-2 rounded-full",children:(0,a.jsx)(D.Z,{className:"h-4 w-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:null===(t=e.patient)||void 0===t?void 0:t.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.reason," • ",e.time]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(y,{className:g(e.status),children:e.status}),"scheduled"===e.status&&(0,a.jsx)(j,{size:"sm",onClick:()=>N(e._id),className:"bg-green-500 hover:bg-green-600 text-white",children:"Complete"})]})]},e._id)})})})]}),(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{children:"Recent Appointments"}),(0,a.jsx)(x,{children:"Your latest patient consultations"})]}),(0,a.jsx)(u,{children:0===t.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(eD.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No appointments yet"})]}):(0,a.jsx)("div",{className:"space-y-4",children:t.slice(0,5).map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-green-100 p-2 rounded-full",children:(0,a.jsx)(eD.Z,{className:"h-4 w-4 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:(null===(t=e.patient)||void 0===t?void 0:t.name)||"Unknown Patient"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.reason," • ",(0,er.Z)(new Date(e.date),"MMM dd, yyyy")," at ",e.time]})]})]}),(0,a.jsx)(y,{className:g(e.status),children:e.status})]},e._id)})})})]})]})}var eC=s(90998),eS=s(52431),e_=s(85790),eZ=s(45253),eR=s(44909),eI=s(16573),eP=s(24235),eT=s(50039),ez=s(86812),eF=s(31346),eU=s(57703),eO=s(28485),eE=s(36612);function eM(){let[e,t]=(0,n.useState)(null),[s,r]=(0,n.useState)(!0);(0,n.useEffect)(()=>{l()},[]);let l=async()=>{try{let e=await el.DJ.getAdminStats();t(e)}catch(e){console.error("Error fetching stats:",e)}finally{r(!1)}},i=e?[{name:"Completed",value:e.completedAppointments,color:"#10B981"},{name:"Scheduled",value:e.totalAppointments-e.completedAppointments-e.cancelledAppointments,color:"#3B82F6"},{name:"Cancelled",value:e.cancelledAppointments,color:"#EF4444"}]:[];return s?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"System overview and analytics"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m,{className:"text-sm font-medium",children:"Total Patients"}),(0,a.jsx)(eD.Z,{className:"h-4 w-4 text-blue-500"})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.totalPatients)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m,{className:"text-sm font-medium",children:"Total Doctors"}),(0,a.jsx)(A.Z,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.totalDoctors)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"+2 new this month"})]})]}),(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m,{className:"text-sm font-medium",children:"Total Appointments"}),(0,a.jsx)(v.Z,{className:"h-4 w-4 text-purple-500"})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.totalAppointments)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"+18% from last month"})]})]}),(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m,{className:"text-sm font-medium",children:"Today's Appointments"}),(0,a.jsx)(eC.Z,{className:"h-4 w-4 text-orange-500"})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.todayAppointments)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active today"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{children:"Weekly Appointments"}),(0,a.jsx)(x,{children:"Appointment trends over the week"})]}),(0,a.jsx)(u,{children:(0,a.jsx)(eZ.h,{width:"100%",height:300,children:(0,a.jsxs)(eR.v,{data:[{name:"Mon",appointments:12},{name:"Tue",appointments:19},{name:"Wed",appointments:8},{name:"Thu",appointments:15},{name:"Fri",appointments:22},{name:"Sat",appointments:6},{name:"Sun",appointments:3}],children:[(0,a.jsx)(eI.q,{strokeDasharray:"3 3"}),(0,a.jsx)(eP.K,{dataKey:"name"}),(0,a.jsx)(eT.B,{}),(0,a.jsx)(ez.u,{}),(0,a.jsx)(eF.$,{dataKey:"appointments",fill:"#3B82F6"})]})})})]}),(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{children:"Appointment Status"}),(0,a.jsx)(x,{children:"Distribution of appointment statuses"})]}),(0,a.jsx)(u,{children:(0,a.jsx)(eZ.h,{width:"100%",height:300,children:(0,a.jsxs)(eU.u,{children:[(0,a.jsx)(eO.b,{data:i,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:e=>{let{name:t,percent:s}=e;return"".concat(t," ").concat((100*s).toFixed(0),"%")},children:i.map((e,t)=>(0,a.jsx)(eE.b,{fill:e.color},"cell-".concat(t)))}),(0,a.jsx)(ez.u,{})]})})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m,{className:"text-sm font-medium",children:"Completion Rate"}),(0,a.jsx)(eS.Z,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsxs)(u,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[e&&e.totalAppointments>0?Math.round(e.completedAppointments/e.totalAppointments*100):0,"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Appointments completed"})]})]}),(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m,{className:"text-sm font-medium",children:"Cancellation Rate"}),(0,a.jsx)(e_.Z,{className:"h-4 w-4 text-red-500"})]}),(0,a.jsxs)(u,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[e&&e.totalAppointments>0?Math.round(e.cancelledAppointments/e.totalAppointments*100):0,"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Appointments cancelled"})]})]}),(0,a.jsxs)(o,{className:"medical-card",children:[(0,a.jsxs)(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m,{className:"text-sm font-medium",children:"System Health"}),(0,a.jsx)(eC.Z,{className:"h-4 w-4 text-blue-500"})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"98.5%"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Uptime this month"})]})]})]})]})}var eJ=s(57305),eY=s(76369);let eB=eJ.fC,eV=eJ.xz;eJ.ZA,eJ.Uv,eJ.Tr,eJ.Ee,n.forwardRef((e,t)=>{let{className:s,inset:r,children:n,...l}=e;return(0,a.jsxs)(eJ.fF,{ref:t,className:d("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",s),...l,children:[n,(0,a.jsx)($.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=eJ.fF.displayName,n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eJ.tu,{ref:t,className:d("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}).displayName=eJ.tu.displayName;let eq=n.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,a.jsx)(eJ.Uv,{children:(0,a.jsx)(eJ.VY,{ref:t,sideOffset:r,className:d("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});eq.displayName=eJ.VY.displayName;let eH=n.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(eJ.ck,{ref:t,className:d("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",s),...n})});eH.displayName=eJ.ck.displayName,n.forwardRef((e,t)=>{let{className:s,children:r,checked:n,...l}=e;return(0,a.jsxs)(eJ.oC,{ref:t,className:d("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(eJ.wU,{children:(0,a.jsx)(Y.Z,{className:"h-4 w-4"})})}),r]})}).displayName=eJ.oC.displayName,n.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(eJ.Rk,{ref:t,className:d("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(eJ.wU,{children:(0,a.jsx)(eY.Z,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=eJ.Rk.displayName,n.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(eJ.__,{ref:t,className:d("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...n})}).displayName=eJ.__.displayName,n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eJ.Z0,{ref:t,className:d("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=eJ.Z0.displayName;var eL=s(17810),eW=s(29409),eG=s(65883);function eK(){var e;let{user:t,logout:s}=(0,r.useAuth)();return(0,a.jsx)("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-blue-100 sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(eL.Z,{className:"h-8 w-8 text-blue-500 mr-2"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"MediCare"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:null==t?void 0:t.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 capitalize",children:null==t?void 0:t.role})]}),(0,a.jsxs)(eB,{children:[(0,a.jsx)(eV,{asChild:!0,children:(0,a.jsx)(j,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:(0,a.jsx)(eu,{children:(0,a.jsx)(ep,{className:"bg-blue-500 text-white",children:null==t?void 0:null===(e=t.name)||void 0===e?void 0:e.charAt(0).toUpperCase()})})})}),(0,a.jsxs)(eq,{className:"w-56",align:"end",children:[(0,a.jsxs)(eH,{children:[(0,a.jsx)(ef.Z,{className:"mr-2 h-4 w-4"}),"Profile"]}),(0,a.jsxs)(eH,{children:[(0,a.jsx)(eW.Z,{className:"mr-2 h-4 w-4"}),"Settings"]}),(0,a.jsxs)(eH,{onClick:()=>{s(),en.Am.success("Logged out successfully")},children:[(0,a.jsx)(eG.Z,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})})}function e$(){let{user:e}=(0,r.useAuth)();return e?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:[(0,a.jsx)(eK,{}),(0,a.jsx)("main",{className:"container mx-auto px-4 py-8",children:(()=>{switch(e.role){case"patient":default:return(0,a.jsx)(eA,{});case"doctor":return(0,a.jsx)(ek,{});case"admin":return(0,a.jsx)(eM,{})}})()})]}):null}function eQ(){let{user:e,loading:t}=(0,r.useAuth)();return(0,a.jsx)(e$,{})}},22406:function(e,t,s){"use strict";s.r(t),s.d(t,{AuthProvider:function(){return i},useAuth:function(){return d}});var a=s(57437),r=s(2265),n=s(92600);let l=(0,r.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,r.useState)(null),[d,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{try{{let e=localStorage.getItem("currentUser");e&&i(JSON.parse(e))}}catch(e){console.error("Failed to load user from localStorage",e)}finally{o(!1)}},[]);let c=async(e,t)=>{try{let s=await n.DJ.login(e,t);i(s.user),localStorage.setItem("currentUser",JSON.stringify(s.user)),localStorage.setItem("accessToken",s.accessToken)}catch(e){throw e}},m=async e=>{try{let t=await n.DJ.register(e);i(t.user),localStorage.setItem("currentUser",JSON.stringify(t.user)),localStorage.setItem("accessToken",t.accessToken)}catch(e){throw e}};return(0,a.jsx)(l.Provider,{value:{user:s,login:c,logout:()=>{localStorage.removeItem("currentUser"),localStorage.removeItem("accessToken"),i(null)},register:m,loading:d},children:t})}let d=()=>{let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},92600:function(e,t,s){"use strict";s.d(t,{DJ:function(){return l}});let a=[{_id:"1",email:"admin@medicare.com",name:"Admin User",role:"admin",phone:"+1234567890",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{_id:"2",email:"doctor@medicare.com",name:"Dr. Sarah Johnson",role:"doctor",phone:"+1234567891",specialization:"Cardiology",licenseNumber:"MD12345",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{_id:"3",email:"doctor2@medicare.com",name:"Dr. Michael Chen",role:"doctor",phone:"+1234567892",specialization:"Pediatrics",licenseNumber:"MD12346",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{_id:"4",email:"patient@medicare.com",name:"John Smith",role:"patient",phone:"+1234567893",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{_id:"5",email:"patient2@medicare.com",name:"Emily Davis",role:"patient",phone:"+1234567894",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}],r=[{_id:"1",patientId:"4",doctorId:"2",date:"2024-12-20",time:"10:00",status:"scheduled",reason:"Regular checkup",notes:"",createdAt:new Date("2024-12-15"),updatedAt:new Date("2024-12-15"),patient:a.find(e=>"4"===e._id),doctor:a.find(e=>"2"===e._id)},{_id:"2",patientId:"4",doctorId:"3",date:"2024-12-18",time:"14:30",status:"completed",reason:"Flu symptoms",notes:"Patient recovered well",createdAt:new Date("2024-12-10"),updatedAt:new Date("2024-12-18"),patient:a.find(e=>"4"===e._id),doctor:a.find(e=>"3"===e._id)},{_id:"3",patientId:"5",doctorId:"2",date:"2024-12-22",time:"09:00",status:"scheduled",reason:"Heart consultation",notes:"",createdAt:new Date("2024-12-16"),updatedAt:new Date("2024-12-16"),patient:a.find(e=>"5"===e._id),doctor:a.find(e=>"2"===e._id)},{_id:"4",patientId:"5",doctorId:"2",date:"2024-12-15",time:"11:00",status:"cancelled",reason:"Blood pressure check",notes:"Patient cancelled",createdAt:new Date("2024-12-12"),updatedAt:new Date("2024-12-14"),patient:a.find(e=>"5"===e._id),doctor:a.find(e=>"2"===e._id)}],n={totalPatients:a.filter(e=>"patient"===e.role).length,totalDoctors:a.filter(e=>"doctor"===e.role).length,totalAppointments:r.length,todayAppointments:r.filter(e=>e.date===new Date().toISOString().split("T")[0]).length,completedAppointments:r.filter(e=>"completed"===e.status).length,cancelledAppointments:r.filter(e=>"cancelled"===e.status).length},l={login:async(e,t)=>{await new Promise(e=>setTimeout(e,1e3));let s=a.find(t=>t.email===e);if(!s||({"admin@medicare.com":"admin123","doctor@medicare.com":"doctor123","doctor2@medicare.com":"doctor123","patient@medicare.com":"patient123","patient2@medicare.com":"patient123"})[e]!==t)throw Error("Invalid credentials");return{user:s,accessToken:"mock-access-token",refreshToken:"mock-refresh-token"}},register:async e=>{await new Promise(e=>setTimeout(e,1e3));let t={_id:Date.now().toString(),...e,createdAt:new Date,updatedAt:new Date};return a.push(t),{user:t,accessToken:"mock-access-token",refreshToken:"mock-refresh-token"}},getPatientAppointments:async e=>(await new Promise(e=>setTimeout(e,500)),r.filter(t=>t.patientId===e)),getDoctorAppointments:async e=>(await new Promise(e=>setTimeout(e,500)),r.filter(t=>t.doctorId===e)),createAppointment:async e=>{await new Promise(e=>setTimeout(e,1e3));let t={_id:Date.now().toString(),...e,status:"scheduled",notes:"",createdAt:new Date,updatedAt:new Date,patient:a.find(t=>t._id===e.patientId),doctor:a.find(t=>t._id===e.doctorId)};return r.push(t),t},completeAppointment:async e=>{await new Promise(e=>setTimeout(e,500));let t=r.find(t=>t._id===e);return t&&(t.status="completed",t.updatedAt=new Date),{success:!0}},getDoctors:async()=>(await new Promise(e=>setTimeout(e,300)),a.filter(e=>"doctor"===e.role)),getAdminStats:async()=>(await new Promise(e=>setTimeout(e,500)),n),sendChatMessage:async e=>{await new Promise(e=>setTimeout(e,1e3));let t=e.toLowerCase();return t.includes("headache")?"For headaches, try resting in a quiet, dark room, staying hydrated, and applying a cold or warm compress. If headaches persist or are severe, please consult a healthcare professional.":t.includes("fever")?"For fever, rest, stay hydrated, and consider taking acetaminophen or ibuprofen as directed. Seek medical attention if fever is high (>103\xb0F/39.4\xb0C) or persists.":t.includes("cough")?"For cough, try staying hydrated, using throat lozenges, or honey (for ages 1+). See a doctor if cough persists over 2 weeks or includes blood.":t.includes("appointment")?'You can book an appointment through the "Book Appointment" button on your dashboard. Choose your preferred doctor, date, and time slot.':t.includes("prescription")?'You can upload prescription images using the "Upload Prescription" feature. Our OCR technology will extract the text for you.':"I'm here to help with your health questions. For specific medical concerns, please consult with a healthcare professional. You can book an appointment through your dashboard."},savePrescription:async e=>(await new Promise(e=>setTimeout(e,1e3)),{_id:Date.now().toString(),...e,createdAt:new Date})}}},function(e){e.O(0,[409,186,971,938,744],function(){return e(e.s=4644)}),_N_E=e.O()}]);