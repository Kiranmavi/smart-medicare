(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{19324:()=>{},23274:(e,t,s)=>{"use strict";s.d(t,{A:()=>d,AuthProvider:()=>i});var a=s(95155),r=s(12115),l=s(41852);let n=(0,r.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,r.useState)(null),[d,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{try{{let e=localStorage.getItem("currentUser");e&&i(JSON.parse(e))}}catch(e){console.error("Failed to load user from localStorage",e)}finally{o(!1)}},[]);let c=async(e,t)=>{try{let s=await l.rx.login(e,t);i(s.user),localStorage.setItem("currentUser",JSON.stringify(s.user)),localStorage.setItem("accessToken",s.accessToken)}catch(e){throw e}},m=async e=>{try{let t=await l.rx.register(e);i(t.user),localStorage.setItem("currentUser",JSON.stringify(t.user)),localStorage.setItem("accessToken",t.accessToken)}catch(e){throw e}};return(0,a.jsx)(n.Provider,{value:{user:s,login:c,logout:()=>{localStorage.removeItem("currentUser"),localStorage.removeItem("accessToken"),i(null)},register:m,loading:d},children:t})}let d=()=>{let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},41852:(e,t,s)=>{"use strict";s.d(t,{rx:()=>n});let a=[{_id:"1",email:"admin@medicare.com",name:"Admin User",role:"admin",phone:"+1234567890",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{_id:"2",email:"doctor@medicare.com",name:"Dr. Sarah Johnson",role:"doctor",phone:"+1234567891",specialization:"Cardiology",licenseNumber:"MD12345",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{_id:"3",email:"doctor2@medicare.com",name:"Dr. Michael Chen",role:"doctor",phone:"+1234567892",specialization:"Pediatrics",licenseNumber:"MD12346",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{_id:"4",email:"patient@medicare.com",name:"John Smith",role:"patient",phone:"+1234567893",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{_id:"5",email:"patient2@medicare.com",name:"Emily Davis",role:"patient",phone:"+1234567894",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}],r=[{_id:"1",patientId:"4",doctorId:"2",date:"2024-12-20",time:"10:00",status:"scheduled",reason:"Regular checkup",notes:"",createdAt:new Date("2024-12-15"),updatedAt:new Date("2024-12-15"),patient:a.find(e=>"4"===e._id),doctor:a.find(e=>"2"===e._id)},{_id:"2",patientId:"4",doctorId:"3",date:"2024-12-18",time:"14:30",status:"completed",reason:"Flu symptoms",notes:"Patient recovered well",createdAt:new Date("2024-12-10"),updatedAt:new Date("2024-12-18"),patient:a.find(e=>"4"===e._id),doctor:a.find(e=>"3"===e._id)},{_id:"3",patientId:"5",doctorId:"2",date:"2024-12-22",time:"09:00",status:"scheduled",reason:"Heart consultation",notes:"",createdAt:new Date("2024-12-16"),updatedAt:new Date("2024-12-16"),patient:a.find(e=>"5"===e._id),doctor:a.find(e=>"2"===e._id)},{_id:"4",patientId:"5",doctorId:"2",date:"2024-12-15",time:"11:00",status:"cancelled",reason:"Blood pressure check",notes:"Patient cancelled",createdAt:new Date("2024-12-12"),updatedAt:new Date("2024-12-14"),patient:a.find(e=>"5"===e._id),doctor:a.find(e=>"2"===e._id)}],l={totalPatients:a.filter(e=>"patient"===e.role).length,totalDoctors:a.filter(e=>"doctor"===e.role).length,totalAppointments:r.length,todayAppointments:r.filter(e=>e.date===new Date().toISOString().split("T")[0]).length,completedAppointments:r.filter(e=>"completed"===e.status).length,cancelledAppointments:r.filter(e=>"cancelled"===e.status).length},n={login:async(e,t)=>{await new Promise(e=>setTimeout(e,1e3));let s=a.find(t=>t.email===e);if(!s||({"admin@medicare.com":"admin123","doctor@medicare.com":"doctor123","doctor2@medicare.com":"doctor123","patient@medicare.com":"patient123","patient2@medicare.com":"patient123"})[e]!==t)throw Error("Invalid credentials");return{user:s,accessToken:"mock-access-token",refreshToken:"mock-refresh-token"}},register:async e=>{await new Promise(e=>setTimeout(e,1e3));let t={_id:Date.now().toString(),...e,createdAt:new Date,updatedAt:new Date};return a.push(t),{user:t,accessToken:"mock-access-token",refreshToken:"mock-refresh-token"}},getPatientAppointments:async e=>(await new Promise(e=>setTimeout(e,500)),r.filter(t=>t.patientId===e)),getDoctorAppointments:async e=>(await new Promise(e=>setTimeout(e,500)),r.filter(t=>t.doctorId===e)),createAppointment:async e=>{await new Promise(e=>setTimeout(e,1e3));let t={_id:Date.now().toString(),...e,status:"scheduled",notes:"",createdAt:new Date,updatedAt:new Date,patient:a.find(t=>t._id===e.patientId),doctor:a.find(t=>t._id===e.doctorId)};return r.push(t),t},completeAppointment:async e=>{await new Promise(e=>setTimeout(e,500));let t=r.find(t=>t._id===e);return t&&(t.status="completed",t.updatedAt=new Date),{success:!0}},getDoctors:async()=>(await new Promise(e=>setTimeout(e,300)),a.filter(e=>"doctor"===e.role)),getAdminStats:async()=>(await new Promise(e=>setTimeout(e,500)),l),sendChatMessage:async e=>{await new Promise(e=>setTimeout(e,1e3));let t=e.toLowerCase();return t.includes("headache")?"For headaches, try resting in a quiet, dark room, staying hydrated, and applying a cold or warm compress. If headaches persist or are severe, please consult a healthcare professional.":t.includes("fever")?"For fever, rest, stay hydrated, and consider taking acetaminophen or ibuprofen as directed. Seek medical attention if fever is high (>103\xb0F/39.4\xb0C) or persists.":t.includes("cough")?"For cough, try staying hydrated, using throat lozenges, or honey (for ages 1+). See a doctor if cough persists over 2 weeks or includes blood.":t.includes("appointment")?'You can book an appointment through the "Book Appointment" button on your dashboard. Choose your preferred doctor, date, and time slot.':t.includes("prescription")?'You can upload prescription images using the "Upload Prescription" feature. Our OCR technology will extract the text for you.':"I'm here to help with your health questions. For specific medical concerns, please consult with a healthcare professional. You can book an appointment through your dashboard."},savePrescription:async e=>(await new Promise(e=>setTimeout(e,1e3)),{_id:Date.now().toString(),...e,createdAt:new Date})}},85811:(e,t,s)=>{Promise.resolve().then(s.bind(s,87107))},87107:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>e8});var a=s(95155),r=s(23274),l=s(12115),n=s(99708),i=s(42635),d=s(52596),o=s(39688);function c(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,o.QP)((0,d.$)(t))}let m=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=l.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:i=!1,...d}=e,o=i?n.DX:"button";return(0,a.jsx)(o,{className:c(m({variant:r,size:l,className:s})),ref:t,...d})});x.displayName="Button";let u=l.forwardRef((e,t)=>{let{className:s,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:c("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...l})});u.displayName="Input";var p=s(40968);let h=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),f=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(p.b,{ref:t,className:c(h(),s),...r})});f.displayName=p.b.displayName;let j=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});j.displayName="Card";let g=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("flex flex-col space-y-1.5 p-6",s),...r})});g.displayName="CardHeader";let y=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:c("text-2xl font-semibold leading-none tracking-tight",s),...r})});y.displayName="CardTitle";let N=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:c("text-sm text-muted-foreground",s),...r})});N.displayName="CardDescription";let b=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("p-6 pt-0",s),...r})});b.displayName="CardContent",l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter";var w=s(60704);let v=w.bL,A=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(w.B8,{ref:t,className:c("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});A.displayName=w.B8.displayName;let D=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(w.l9,{ref:t,className:c("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});D.displayName=w.l9.displayName;let C=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(w.UC,{ref:t,className:c("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});C.displayName=w.UC.displayName;var k=s(69836),S=s(66474),R=s(47863),P=s(5196);let _=k.bL;k.YJ;let I=k.WT,F=l.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(k.l9,{ref:t,className:c("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[r,(0,a.jsx)(k.In,{asChild:!0,children:(0,a.jsx)(S.A,{className:"h-4 w-4 opacity-50"})})]})});F.displayName=k.l9.displayName;let z=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(k.PP,{ref:t,className:c("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(R.A,{className:"h-4 w-4"})})});z.displayName=k.PP.displayName;let T=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(k.wn,{ref:t,className:c("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(S.A,{className:"h-4 w-4"})})});T.displayName=k.wn.displayName;let U=l.forwardRef((e,t)=>{let{className:s,children:r,position:l="popper",...n}=e;return(0,a.jsx)(k.ZL,{children:(0,a.jsxs)(k.UC,{ref:t,className:c("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...n,children:[(0,a.jsx)(z,{}),(0,a.jsx)(k.LM,{className:c("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(T,{})]})})});U.displayName=k.UC.displayName,l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(k.JU,{ref:t,className:c("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=k.JU.displayName;let L=l.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(k.q7,{ref:t,className:c("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(k.VF,{children:(0,a.jsx)(P.A,{className:"h-4 w-4"})})}),(0,a.jsx)(k.p4,{children:r})]})});L.displayName=k.q7.displayName,l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(k.wv,{ref:t,className:c("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=k.wv.displayName;var M=s(56671),E=s(51976),O=s(75525),q=s(33917);function B(){let{login:e,register:t}=(0,r.A)(),[s,n]=(0,l.useState)(!1),[i,d]=(0,l.useState)({email:"",password:""}),[o,c]=(0,l.useState)({name:"",email:"",password:"",role:"patient",phone:"",specialization:"",licenseNumber:""}),m=async t=>{t.preventDefault(),n(!0);try{await e(i.email,i.password),M.oR.success("Welcome back!")}catch(e){var s,a;M.oR.error((null==(a=e.response)||null==(s=a.data)?void 0:s.error)||"Login failed")}finally{n(!1)}},p=async e=>{e.preventDefault(),n(!0);try{await t(o),M.oR.success("Account created successfully!")}catch(e){var s,a;M.oR.error((null==(a=e.response)||null==(s=a.data)?void 0:s.error)||"Registration failed")}finally{n(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center medical-gradient p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,a.jsx)(E.A,{className:"h-10 w-10 text-blue-500 mr-2"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"MediCare"})]}),(0,a.jsx)("p",{className:"text-gray-600",children:"Smart Medical Appointment System"})]}),(0,a.jsxs)(v,{defaultValue:"login",className:"w-full",children:[(0,a.jsxs)(A,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(D,{value:"login",children:"Login"}),(0,a.jsx)(D,{value:"register",children:"Register"})]}),(0,a.jsx)(C,{value:"login",children:(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{children:[(0,a.jsx)(y,{children:"Welcome Back"}),(0,a.jsx)(N,{children:"Sign in to your account"})]}),(0,a.jsxs)(b,{children:[(0,a.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{htmlFor:"email",children:"Email"}),(0,a.jsx)(u,{id:"email",type:"email",value:i.email,onChange:e=>d(t=>({...t,email:e.target.value})),className:"medical-input",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{htmlFor:"password",children:"Password"}),(0,a.jsx)(u,{id:"password",type:"password",value:i.password,onChange:e=>d(t=>({...t,password:e.target.value})),className:"medical-input",required:!0})]}),(0,a.jsx)(x,{type:"submit",className:"w-full medical-button",disabled:s,children:s?"Signing in...":"Sign In"})]}),(0,a.jsxs)("div",{className:"mt-6 space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Demo Accounts:"}),(0,a.jsxs)("div",{className:"grid gap-2 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center p-2 bg-blue-50 rounded",children:[(0,a.jsx)(O.A,{className:"h-4 w-4 text-blue-500 mr-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Admin: admin@medicare.com"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Password: admin123"})]})]}),(0,a.jsxs)("div",{className:"flex items-center p-2 bg-green-50 rounded",children:[(0,a.jsx)(q.A,{className:"h-4 w-4 text-green-500 mr-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Doctor: doctor@medicare.com"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Password: doctor123"})]})]}),(0,a.jsxs)("div",{className:"flex items-center p-2 bg-purple-50 rounded",children:[(0,a.jsx)(E.A,{className:"h-4 w-4 text-purple-500 mr-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Patient: patient@medicare.com"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Password: patient123"})]})]})]})]})]})]})}),(0,a.jsx)(C,{value:"register",children:(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{children:[(0,a.jsx)(y,{children:"Create Account"}),(0,a.jsx)(N,{children:"Join our healthcare platform"})]}),(0,a.jsx)(b,{children:(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{htmlFor:"name",children:"Full Name"}),(0,a.jsx)(u,{id:"name",value:o.name,onChange:e=>c(t=>({...t,name:e.target.value})),className:"medical-input",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{htmlFor:"phone",children:"Phone"}),(0,a.jsx)(u,{id:"phone",value:o.phone,onChange:e=>c(t=>({...t,phone:e.target.value})),className:"medical-input"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{htmlFor:"reg-email",children:"Email"}),(0,a.jsx)(u,{id:"reg-email",type:"email",value:o.email,onChange:e=>c(t=>({...t,email:e.target.value})),className:"medical-input",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{htmlFor:"reg-password",children:"Password"}),(0,a.jsx)(u,{id:"reg-password",type:"password",value:o.password,onChange:e=>c(t=>({...t,password:e.target.value})),className:"medical-input",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{htmlFor:"role",children:"I am a"}),(0,a.jsxs)(_,{value:o.role,onValueChange:e=>c(t=>({...t,role:e})),children:[(0,a.jsx)(F,{className:"medical-input",children:(0,a.jsx)(I,{})}),(0,a.jsxs)(U,{children:[(0,a.jsx)(L,{value:"patient",children:"Patient"}),(0,a.jsx)(L,{value:"doctor",children:"Doctor"})]})]})]}),"doctor"===o.role&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{htmlFor:"specialization",children:"Specialization"}),(0,a.jsx)(u,{id:"specialization",value:o.specialization,onChange:e=>c(t=>({...t,specialization:e.target.value})),className:"medical-input",placeholder:"e.g., Cardiology, Pediatrics"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{htmlFor:"license",children:"License Number"}),(0,a.jsx)(u,{id:"license",value:o.licenseNumber,onChange:e=>c(t=>({...t,licenseNumber:e.target.value})),className:"medical-input"})]})]}),(0,a.jsx)(x,{type:"submit",className:"w-full medical-button",disabled:s,children:s?"Creating Account...":"Create Account"})]})})]})})]})]})})}let V=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function J(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:c(V({variant:s}),t),...r})}var H=s(71366),Y=s(29869),W=s(84616),Z=s(69074),G=s(14186),K=s(67178),Q=s(54416);let X=K.bL;K.l9;let $=K.ZL;K.bm;let ee=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(K.hJ,{ref:t,className:c("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});ee.displayName=K.hJ.displayName;let et=l.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)($,{children:[(0,a.jsx)(ee,{}),(0,a.jsxs)(K.UC,{ref:t,className:c("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l,children:[r,(0,a.jsxs)(K.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(Q.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});et.displayName=K.UC.displayName;let es=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:c("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};es.displayName="DialogHeader";let ea=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(K.hE,{ref:t,className:c("text-lg font-semibold leading-none tracking-tight",s),...r})});ea.displayName=K.hE.displayName;let er=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(K.VY,{ref:t,className:c("text-sm text-muted-foreground",s),...r})});er.displayName=K.VY.displayName;let el=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:c("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});el.displayName="Textarea";var en=s(42355),ei=s(13052),ed=s(63955);function eo(e){let{className:t,classNames:s,showOutsideDays:r=!0,...l}=e;return(0,a.jsx)(ed.hv,{showOutsideDays:r,className:c("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:c(m({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:c(m({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:e=>{let{...t}=e;return(0,a.jsx)(en.A,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,a.jsx)(ei.A,{className:"h-4 w-4"})}},...l})}eo.displayName="Calendar";var ec=s(98394);let em=ec.bL,ex=ec.l9,eu=l.forwardRef((e,t)=>{let{className:s,align:r="center",sideOffset:l=4,...n}=e;return(0,a.jsx)(ec.ZL,{children:(0,a.jsx)(ec.UC,{ref:t,align:r,sideOffset:l,className:c("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});eu.displayName=ec.UC.displayName;var ep=s(59416),eh=s(41852);function ef(e){let{open:t,onOpenChange:s,onSuccess:n}=e,{user:i}=(0,r.A)(),[d,o]=(0,l.useState)([]),[c,m]=(0,l.useState)(),[u,p]=(0,l.useState)(!1),[h,j]=(0,l.useState)({doctorId:"",time:"",reason:""});(0,l.useEffect)(()=>{t&&g()},[t]);let g=async()=>{try{let e=await eh.rx.getDoctors();o(e)}catch(e){console.error("Error fetching doctors:",e),M.oR.error("Failed to load doctors")}},y=async e=>{if(e.preventDefault(),!c||!h.doctorId||!h.time||!h.reason)return void M.oR.error("Please fill in all fields");if(!i)return void M.oR.error("You must be logged in to book an appointment");p(!0);try{await eh.rx.createAppointment({patientId:i._id,doctorId:h.doctorId,date:c.toISOString().split("T")[0],time:h.time,reason:h.reason}),M.oR.success("Appointment booked successfully!"),n(),s(!1),j({doctorId:"",time:"",reason:""}),m(void 0)}catch(e){M.oR.error(e.message||"Failed to book appointment")}finally{p(!1)}};return(0,a.jsx)(X,{open:t,onOpenChange:s,children:(0,a.jsxs)(et,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(es,{children:[(0,a.jsx)(ea,{children:"Book New Appointment"}),(0,a.jsx)(er,{children:"Schedule an appointment with one of our qualified doctors"})]}),(0,a.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{htmlFor:"doctor",children:"Select Doctor"}),(0,a.jsxs)(_,{value:h.doctorId,onValueChange:e=>j(t=>({...t,doctorId:e})),children:[(0,a.jsx)(F,{className:"medical-input",children:(0,a.jsx)(I,{placeholder:"Choose a doctor"})}),(0,a.jsx)(U,{children:d.map(e=>(0,a.jsxs)(L,{value:e._id,children:["Dr. ",e.name," - ",e.specialization]},e._id))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{children:"Appointment Date"}),(0,a.jsxs)(em,{children:[(0,a.jsx)(ex,{asChild:!0,children:(0,a.jsxs)(x,{variant:"outline",className:"w-full justify-start text-left font-normal medical-input",children:[(0,a.jsx)(Z.A,{className:"mr-2 h-4 w-4"}),c?(0,ep.A)(c,"PPP"):"Pick a date"]})}),(0,a.jsx)(eu,{className:"w-auto p-0",children:(0,a.jsx)(eo,{mode:"single",selected:c,onSelect:m,disabled:e=>e<new Date||0===e.getDay(),initialFocus:!0})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{htmlFor:"time",children:"Preferred Time"}),(0,a.jsxs)(_,{value:h.time,onValueChange:e=>j(t=>({...t,time:e})),children:[(0,a.jsx)(F,{className:"medical-input",children:(0,a.jsx)(I,{placeholder:"Select time slot"})}),(0,a.jsx)(U,{children:["09:00","09:30","10:00","10:30","11:00","11:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30"].map(e=>(0,a.jsx)(L,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{htmlFor:"reason",children:"Reason for Visit"}),(0,a.jsx)(el,{id:"reason",value:h.reason,onChange:e=>j(t=>({...t,reason:e.target.value})),placeholder:"Describe your symptoms or reason for the appointment...",className:"medical-input",required:!0})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(x,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),(0,a.jsx)(x,{type:"submit",className:"medical-button",disabled:u,children:u?"Booking...":"Book Appointment"})]})]})]})})}var ej=s(47655);let eg=l.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(ej.bL,{ref:t,className:c("relative overflow-hidden",s),...l,children:[(0,a.jsx)(ej.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,a.jsx)(ey,{}),(0,a.jsx)(ej.OK,{})]})});eg.displayName=ej.bL.displayName;let ey=l.forwardRef((e,t)=>{let{className:s,orientation:r="vertical",...l}=e;return(0,a.jsx)(ej.VM,{ref:t,orientation:r,className:c("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,a.jsx)(ej.lr,{className:"relative flex-1 rounded-full bg-border"})})});ey.displayName=ej.VM.displayName;var eN=s(85977);let eb=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eN.bL,{ref:t,className:c("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});eb.displayName=eN.bL.displayName,l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eN._V,{ref:t,className:c("aspect-square h-full w-full",s),...r})}).displayName=eN._V.displayName;let ew=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eN.H4,{ref:t,className:c("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});ew.displayName=eN.H4.displayName;var ev=s(25657),eA=s(71007),eD=s(12486);function eC(e){let{open:t,onOpenChange:s}=e,[r,n]=(0,l.useState)([{id:"1",role:"assistant",content:"Hello! I'm your AI health assistant. I can help you with symptom checking, general health questions, and medical information. How can I assist you today?",timestamp:new Date}]),[i,d]=(0,l.useState)(""),[o,c]=(0,l.useState)(!1),m=async e=>{if(e.preventDefault(),!i.trim())return;let t={id:Date.now().toString(),role:"user",content:i,timestamp:new Date};n(e=>[...e,t]),d(""),c(!0);try{let e=await eh.rx.sendChatMessage(i),t={id:(Date.now()+1).toString(),role:"assistant",content:e,timestamp:new Date};n(e=>[...e,t])}catch(t){let e={id:(Date.now()+1).toString(),role:"assistant",content:"I apologize, but I'm having trouble responding right now. Please try again later or consult with a healthcare professional for urgent matters.",timestamp:new Date};n(t=>[...t,e])}finally{c(!1)}};return(0,a.jsx)(X,{open:t,onOpenChange:s,children:(0,a.jsxs)(et,{className:"sm:max-w-[600px] h-[600px] flex flex-col",children:[(0,a.jsxs)(es,{children:[(0,a.jsxs)(ea,{className:"flex items-center gap-2",children:[(0,a.jsx)(ev.A,{className:"h-5 w-5 text-blue-500"}),"AI Health Assistant"]}),(0,a.jsx)(er,{children:"Get instant help with health questions and symptom checking"})]}),(0,a.jsx)(eg,{className:"flex-1 pr-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[r.map(e=>(0,a.jsxs)("div",{className:"flex gap-3 ".concat("user"===e.role?"justify-end":"justify-start"),children:["assistant"===e.role&&(0,a.jsx)(eb,{className:"h-8 w-8",children:(0,a.jsx)(ew,{className:"bg-blue-100 text-blue-600",children:(0,a.jsx)(ev.A,{className:"h-4 w-4"})})}),(0,a.jsx)("div",{className:"max-w-[80%] rounded-lg px-4 py-2 ".concat("user"===e.role?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"),children:(0,a.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content})}),"user"===e.role&&(0,a.jsx)(eb,{className:"h-8 w-8",children:(0,a.jsx)(ew,{className:"bg-gray-100 text-gray-600",children:(0,a.jsx)(eA.A,{className:"h-4 w-4"})})})]},e.id)),o&&(0,a.jsxs)("div",{className:"flex gap-3 justify-start",children:[(0,a.jsx)(eb,{className:"h-8 w-8",children:(0,a.jsx)(ew,{className:"bg-blue-100 text-blue-600",children:(0,a.jsx)(ev.A,{className:"h-4 w-4"})})}),(0,a.jsx)("div",{className:"bg-gray-100 rounded-lg px-4 py-2",children:(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})}),(0,a.jsxs)("form",{onSubmit:m,className:"flex gap-2 mt-4",children:[(0,a.jsx)(u,{value:i,onChange:e=>d(e.target.value),placeholder:"Ask about symptoms, medications, or health questions...",className:"flex-1",disabled:o}),(0,a.jsx)(x,{type:"submit",size:"icon",disabled:o||!i.trim(),children:(0,a.jsx)(eD.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:[(0,a.jsx)("strong",{children:"Disclaimer:"})," This AI assistant provides general health information only. Always consult with healthcare professionals for medical advice."]})]})})}var ek=s(67624),eS=s(22915),eR=s(57434),eP=s(47818);function e_(e){let{open:t,onOpenChange:s}=e,[r,n]=(0,l.useState)(!1),[i,d]=(0,l.useState)(!1),[o,c]=(0,l.useState)(""),[m,u]=(0,l.useState)(null),p=async e=>{d(!0),c("");try{let t=URL.createObjectURL(e);u(t);let s=await (0,eP.createWorker)("eng"),{data:{text:a}}=await s.recognize(e);await s.terminate(),c(a),M.oR.success("Prescription text extracted successfully!")}catch(e){console.error("OCR Error:",e),M.oR.error("Failed to extract text from image")}finally{d(!1)}},h=e=>e.type.startsWith("image/")?e.size>0xa00000?void M.oR.error("File size must be less than 10MB"):void p(e):void M.oR.error("Please select an image file"),f=(0,l.useCallback)(e=>{e.preventDefault(),n(!1);let t=Array.from(e.dataTransfer.files);t.length>0&&h(t[0])},[]),g=(0,l.useCallback)(e=>{e.preventDefault(),n(!0)},[]),y=(0,l.useCallback)(e=>{e.preventDefault(),n(!1)},[]),N=async()=>{if(!o)return void M.oR.error("No text to save");try{await eh.rx.savePrescription({ocrText:o,imageUrl:m}),M.oR.success("Prescription saved successfully!"),s(!1),c(""),u(null)}catch(e){M.oR.error("Failed to save prescription")}};return(0,a.jsx)(X,{open:t,onOpenChange:s,children:(0,a.jsxs)(et,{className:"sm:max-w-[600px]",children:[(0,a.jsxs)(es,{children:[(0,a.jsx)(ea,{children:"Upload Prescription"}),(0,a.jsx)(er,{children:"Upload an image of your prescription and we'll extract the text using OCR technology"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[m?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-medium",children:"Uploaded Image"}),(0,a.jsx)(x,{variant:"outline",size:"sm",onClick:()=>{u(null),c("")},children:"Upload New"})]}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("img",{src:m,alt:"Uploaded prescription",className:"w-full max-h-64 object-contain rounded-lg border"})})]}):(0,a.jsx)(j,{className:"border-2 border-dashed transition-colors cursor-pointer ".concat(r?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDrop:f,onDragOver:g,onDragLeave:y,children:(0,a.jsxs)(b,{className:"flex flex-col items-center justify-center py-12",children:[(0,a.jsx)(Y.A,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drag and drop your prescription image"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"or click to browse files"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files;t&&t.length>0&&h(t[0])},className:"hidden",id:"file-upload"}),(0,a.jsx)("label",{htmlFor:"file-upload",children:(0,a.jsx)(x,{variant:"outline",className:"cursor-pointer",asChild:!0,children:(0,a.jsx)("span",{children:"Choose File"})})})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-4",children:"Supports JPG, PNG, WebP (max 10MB)"})]})}),i&&(0,a.jsx)(j,{children:(0,a.jsxs)(b,{className:"flex items-center justify-center py-8",children:[(0,a.jsx)(ek.A,{className:"h-6 w-6 animate-spin mr-3"}),(0,a.jsx)("span",{children:"Processing image and extracting text..."})]})}),o&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eS.A,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("h3",{className:"font-medium",children:"Extracted Text"})]}),(0,a.jsx)(j,{children:(0,a.jsx)(b,{className:"p-4",children:(0,a.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-800 max-h-48 overflow-y-auto",children:o})})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(x,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),(0,a.jsxs)(x,{onClick:N,className:"medical-button",children:[(0,a.jsx)(eR.A,{className:"h-4 w-4 mr-2"}),"Save Prescription"]})]})]})]})]})})}function eI(){let{user:e}=(0,r.A)(),[t,s]=(0,l.useState)([]),[n,i]=(0,l.useState)(!1),[d,o]=(0,l.useState)(!1),[c,m]=(0,l.useState)(!1),[u,p]=(0,l.useState)(!0);(0,l.useEffect)(()=>{e&&h()},[e]);let h=async()=>{if(e)try{let t=await eh.rx.getPatientAppointments(e._id);s(t)}catch(e){console.error("Error fetching appointments:",e)}finally{p(!1)}},f=e=>{switch(e){case"scheduled":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=t.filter(e=>"scheduled"===e.status&&new Date(e.date)>=new Date);return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Patient Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your health appointments and records"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(x,{onClick:()=>o(!0),variant:"outline",className:"gap-2",children:[(0,a.jsx)(H.A,{className:"h-4 w-4"}),"AI Assistant"]}),(0,a.jsxs)(x,{onClick:()=>m(!0),variant:"outline",className:"gap-2",children:[(0,a.jsx)(Y.A,{className:"h-4 w-4"}),"Upload Prescription"]}),(0,a.jsxs)(x,{onClick:()=>i(!0),className:"medical-button gap-2",children:[(0,a.jsx)(W.A,{className:"h-4 w-4"}),"Book Appointment"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y,{className:"text-sm font-medium",children:"Upcoming Appointments"}),(0,a.jsx)(Z.A,{className:"h-4 w-4 text-blue-500"})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:w.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Next appointment coming up"})]})]}),(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y,{className:"text-sm font-medium",children:"Total Appointments"}),(0,a.jsx)(q.A,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"All time appointments"})]})]}),(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y,{className:"text-sm font-medium",children:"Health Score"}),(0,a.jsx)(H.A,{className:"h-4 w-4 text-purple-500"})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"85%"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Based on recent checkups"})]})]})]}),(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{children:[(0,a.jsx)(y,{children:"Recent Appointments"}),(0,a.jsx)(N,{children:"Your latest medical appointments and consultations"})]}),(0,a.jsx)(b,{children:u?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):0===t.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(Z.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No appointments yet"}),(0,a.jsx)(x,{onClick:()=>i(!0),className:"mt-4 medical-button",children:"Book Your First Appointment"})]}):(0,a.jsx)("div",{className:"space-y-4",children:t.slice(0,5).map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-blue-100 p-2 rounded-full",children:(0,a.jsx)(G.A,{className:"h-4 w-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.reason}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Dr. ",null==(t=e.doctor)?void 0:t.name," • ",(0,ep.A)(new Date(e.date),"MMM dd, yyyy")," at ",e.time]})]})]}),(0,a.jsx)(J,{className:f(e.status),children:e.status})]},e._id)})})})]}),(0,a.jsx)(ef,{open:n,onOpenChange:i,onSuccess:h}),(0,a.jsx)(eC,{open:d,onOpenChange:o}),(0,a.jsx)(e_,{open:c,onOpenChange:m})]})}var eF=s(17580);function ez(){let{user:e}=(0,r.A)(),[t,s]=(0,l.useState)([]),[n,i]=(0,l.useState)(!0);(0,l.useEffect)(()=>{e&&d()},[e]);let d=async()=>{if(e)try{let t=await eh.rx.getDoctorAppointments(e._id);s(t)}catch(e){console.error("Error fetching appointments:",e)}finally{i(!1)}},o=t.filter(e=>new Date(e.date).toDateString()===new Date().toDateString()),c=t.filter(e=>"scheduled"===e.status&&new Date(e.date)>=new Date),m=t.filter(e=>"completed"===e.status),u=e=>{switch(e){case"scheduled":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=async e=>{try{await eh.rx.completeAppointment(e),M.oR.success("Appointment marked as completed"),d()}catch(e){console.error("Error completing appointment:",e),M.oR.error("Failed to complete appointment")}};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Doctor Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your patient appointments and consultations"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y,{className:"text-sm font-medium",children:"Today's Appointments"}),(0,a.jsx)(Z.A,{className:"h-4 w-4 text-blue-500"})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:o.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Scheduled for today"})]})]}),(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y,{className:"text-sm font-medium",children:"Upcoming"}),(0,a.jsx)(G.A,{className:"h-4 w-4 text-orange-500"})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:c.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Future appointments"})]})]}),(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y,{className:"text-sm font-medium",children:"Completed"}),(0,a.jsx)(eS.A,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:m.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total completed"})]})]}),(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y,{className:"text-sm font-medium",children:"Patients"}),(0,a.jsx)(eF.A,{className:"h-4 w-4 text-purple-500"})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:new Set(t.map(e=>e.patientId)).size}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Unique patients"})]})]})]}),(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{children:[(0,a.jsx)(y,{children:"Today's Schedule"}),(0,a.jsx)(N,{children:"Your appointments for today"})]}),(0,a.jsx)(b,{children:n?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):0===o.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(Z.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No appointments scheduled for today"})]}):(0,a.jsx)("div",{className:"space-y-4",children:o.map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-blue-100 p-2 rounded-full",children:(0,a.jsx)(G.A,{className:"h-4 w-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:null==(t=e.patient)?void 0:t.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.reason," • ",e.time]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(J,{className:u(e.status),children:e.status}),"scheduled"===e.status&&(0,a.jsx)(x,{size:"sm",onClick:()=>p(e._id),className:"bg-green-500 hover:bg-green-600 text-white",children:"Complete"})]})]},e._id)})})})]}),(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{children:[(0,a.jsx)(y,{children:"Recent Appointments"}),(0,a.jsx)(N,{children:"Your latest patient consultations"})]}),(0,a.jsx)(b,{children:0===t.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(eF.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No appointments yet"})]}):(0,a.jsx)("div",{className:"space-y-4",children:t.slice(0,5).map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-green-100 p-2 rounded-full",children:(0,a.jsx)(eF.A,{className:"h-4 w-4 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:(null==(t=e.patient)?void 0:t.name)||"Unknown Patient"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.reason," • ",(0,ep.A)(new Date(e.date),"MMM dd, yyyy")," at ",e.time]})]})]}),(0,a.jsx)(J,{className:u(e.status),children:e.status})]},e._id)})})})]})]})}var eT=s(79397),eU=s(55670),eL=s(33109),eM=s(83540),eE=s(3401),eO=s(94754),eq=s(96025),eB=s(16238),eV=s(94517),eJ=s(83394),eH=s(8782),eY=s(34e3),eW=s(54811);function eZ(){let[e,t]=(0,l.useState)(null),[s,r]=(0,l.useState)(!0);(0,l.useEffect)(()=>{n()},[]);let n=async()=>{try{let e=await eh.rx.getAdminStats();t(e)}catch(e){console.error("Error fetching stats:",e)}finally{r(!1)}},i=e?[{name:"Completed",value:e.completedAppointments,color:"#10B981"},{name:"Scheduled",value:e.totalAppointments-e.completedAppointments-e.cancelledAppointments,color:"#3B82F6"},{name:"Cancelled",value:e.cancelledAppointments,color:"#EF4444"}]:[];return s?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"System overview and analytics"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y,{className:"text-sm font-medium",children:"Total Patients"}),(0,a.jsx)(eF.A,{className:"h-4 w-4 text-blue-500"})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.totalPatients)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y,{className:"text-sm font-medium",children:"Total Doctors"}),(0,a.jsx)(q.A,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.totalDoctors)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"+2 new this month"})]})]}),(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y,{className:"text-sm font-medium",children:"Total Appointments"}),(0,a.jsx)(Z.A,{className:"h-4 w-4 text-purple-500"})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.totalAppointments)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"+18% from last month"})]})]}),(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y,{className:"text-sm font-medium",children:"Today's Appointments"}),(0,a.jsx)(eT.A,{className:"h-4 w-4 text-orange-500"})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.todayAppointments)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active today"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{children:[(0,a.jsx)(y,{children:"Weekly Appointments"}),(0,a.jsx)(N,{children:"Appointment trends over the week"})]}),(0,a.jsx)(b,{children:(0,a.jsx)(eM.u,{width:"100%",height:300,children:(0,a.jsxs)(eE.E,{data:[{name:"Mon",appointments:12},{name:"Tue",appointments:19},{name:"Wed",appointments:8},{name:"Thu",appointments:15},{name:"Fri",appointments:22},{name:"Sat",appointments:6},{name:"Sun",appointments:3}],children:[(0,a.jsx)(eO.d,{strokeDasharray:"3 3"}),(0,a.jsx)(eq.W,{dataKey:"name"}),(0,a.jsx)(eB.h,{}),(0,a.jsx)(eV.m,{}),(0,a.jsx)(eJ.y,{dataKey:"appointments",fill:"#3B82F6"})]})})})]}),(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{children:[(0,a.jsx)(y,{children:"Appointment Status"}),(0,a.jsx)(N,{children:"Distribution of appointment statuses"})]}),(0,a.jsx)(b,{children:(0,a.jsx)(eM.u,{width:"100%",height:300,children:(0,a.jsxs)(eH.r,{children:[(0,a.jsx)(eY.F,{data:i,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:e=>{let{name:t,percent:s}=e;return"".concat(t," ").concat((100*s).toFixed(0),"%")},children:i.map((e,t)=>(0,a.jsx)(eW.f,{fill:e.color},"cell-".concat(t)))}),(0,a.jsx)(eV.m,{})]})})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y,{className:"text-sm font-medium",children:"Completion Rate"}),(0,a.jsx)(eU.A,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsxs)(b,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[e&&e.totalAppointments>0?Math.round(e.completedAppointments/e.totalAppointments*100):0,"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Appointments completed"})]})]}),(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y,{className:"text-sm font-medium",children:"Cancellation Rate"}),(0,a.jsx)(eL.A,{className:"h-4 w-4 text-red-500"})]}),(0,a.jsxs)(b,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[e&&e.totalAppointments>0?Math.round(e.cancelledAppointments/e.totalAppointments*100):0,"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Appointments cancelled"})]})]}),(0,a.jsxs)(j,{className:"medical-card",children:[(0,a.jsxs)(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y,{className:"text-sm font-medium",children:"System Health"}),(0,a.jsx)(eT.A,{className:"h-4 w-4 text-blue-500"})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"98.5%"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Uptime this month"})]})]})]})]})}var eG=s(42910),eK=s(9428);let eQ=eG.bL,eX=eG.l9;eG.YJ,eG.ZL,eG.Pb,eG.z6,l.forwardRef((e,t)=>{let{className:s,inset:r,children:l,...n}=e;return(0,a.jsxs)(eG.ZP,{ref:t,className:c("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",s),...n,children:[l,(0,a.jsx)(ei.A,{className:"ml-auto h-4 w-4"})]})}).displayName=eG.ZP.displayName,l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eG.G5,{ref:t,className:c("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}).displayName=eG.G5.displayName;let e$=l.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...l}=e;return(0,a.jsx)(eG.ZL,{children:(0,a.jsx)(eG.UC,{ref:t,sideOffset:r,className:c("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})})});e$.displayName=eG.UC.displayName;let e0=l.forwardRef((e,t)=>{let{className:s,inset:r,...l}=e;return(0,a.jsx)(eG.q7,{ref:t,className:c("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",s),...l})});e0.displayName=eG.q7.displayName,l.forwardRef((e,t)=>{let{className:s,children:r,checked:l,...n}=e;return(0,a.jsxs)(eG.H_,{ref:t,className:c("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:l,...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(eG.VF,{children:(0,a.jsx)(P.A,{className:"h-4 w-4"})})}),r]})}).displayName=eG.H_.displayName,l.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(eG.hN,{ref:t,className:c("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(eG.VF,{children:(0,a.jsx)(eK.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=eG.hN.displayName,l.forwardRef((e,t)=>{let{className:s,inset:r,...l}=e;return(0,a.jsx)(eG.JU,{ref:t,className:c("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...l})}).displayName=eG.JU.displayName,l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eG.wv,{ref:t,className:c("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=eG.wv.displayName;var e1=s(381),e2=s(34835);function e4(){var e;let{user:t,logout:s}=(0,r.A)();return(0,a.jsx)("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-blue-100 sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(E.A,{className:"h-8 w-8 text-blue-500 mr-2"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"MediCare"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:null==t?void 0:t.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 capitalize",children:null==t?void 0:t.role})]}),(0,a.jsxs)(eQ,{children:[(0,a.jsx)(eX,{asChild:!0,children:(0,a.jsx)(x,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:(0,a.jsx)(eb,{children:(0,a.jsx)(ew,{className:"bg-blue-500 text-white",children:null==t||null==(e=t.name)?void 0:e.charAt(0).toUpperCase()})})})}),(0,a.jsxs)(e$,{className:"w-56",align:"end",children:[(0,a.jsxs)(e0,{children:[(0,a.jsx)(eA.A,{className:"mr-2 h-4 w-4"}),"Profile"]}),(0,a.jsxs)(e0,{children:[(0,a.jsx)(e1.A,{className:"mr-2 h-4 w-4"}),"Settings"]}),(0,a.jsxs)(e0,{onClick:()=>{s(),M.oR.success("Logged out successfully")},children:[(0,a.jsx)(e2.A,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})})}function e5(){let{user:e}=(0,r.A)();return e?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:[(0,a.jsx)(e4,{}),(0,a.jsx)("main",{className:"container mx-auto px-4 py-8",children:(()=>{switch(e.role){case"patient":default:return(0,a.jsx)(eI,{});case"doctor":return(0,a.jsx)(ez,{});case"admin":return(0,a.jsx)(eZ,{})}})()})]}):null}function e8(){let{user:e,loading:t}=(0,r.A)();return e?(0,a.jsx)(e5,{}):(0,a.jsx)(B,{})}s(19324)}},e=>{var t=t=>e(e.s=t);e.O(0,[533,671,853,441,684,358],()=>t(85811)),_N_E=e.O()}]);